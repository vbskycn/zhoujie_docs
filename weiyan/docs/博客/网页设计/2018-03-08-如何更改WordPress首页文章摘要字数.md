---
title: "如何更改WordPress首页文章摘要字数"
date: "2018-03-08"
categories: 
  - "diannaowangruo"
url: "/archives/99.html"
---

# 如何更改WordPress首页文章摘要字数

BY [JACKSUN](https://www.sundabao.com/author/smallearth/ "Posts by JackSun") · PUBLISHED 2014年8月9日 · UPDATED 2015年6月9日

有些WordPress主题首页摘要字数太多，有的甚至把全部文字展示出来，看着很不爽，于是搜了一下如何更改，果然让我搜到了，哈哈，真是黄天不负有心人。

## 方法一：修改WordPress文件。

优点：操作简单。 缺点：博客升级后会失效，需重新修改。

找到WorsPress目录wp－includes下formating.php文件，查找unction wp\_trim\_excerpt($text)函数，再找到excerpt\_length，默认值是55，修改成需要的值即可。

## 方法二：自定义函数，修改主题function.php文件。

（楼主推荐） 优点：一劳永逸。 缺点：换主题后需要重新设置。

The\_excerpt()在Wordpress中，默认是截取55个英文单词的，但是在中文中却是无法截取到55个汉字。原因是因为在wordpress的the\_excerpt()函数中用到了

<table style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: 1140px; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; border-collapse: collapse; position: static !important; table-layout: auto !important; direction: ltr !important; box-sizing: content-box !important; border-spacing: 0px; font-stretch: inherit; box-shadow: none !important;" border="0" cellspacing="0" cellpadding="0"><tbody style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><tr style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><td class="code" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: 1140px; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><div class="container" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; position: relative !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><div class="line number4 index0 alt1" style="background: #1b2426 !important; margin: 0px !important; padding: 0px 1em 0px 0em !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; white-space: pre !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><code class="php variable" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #ffaa3e !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">$text</code> <code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">= implode(</code><code class="php string" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #5ce638 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">' '</code><code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">, </code><code class="php variable" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #ffaa3e !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">$words</code><code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">);</code></div></div></td></tr></tbody></table>

在php中是用空格来截取字数的，而我们汉字就杯具了，因为我们汉字是相连的，没有空格来区分，所以在使用中文的时候，经常地我们使用the\_excerpt()函数的时候，截取出来的结果是全文！ 对于这个情况我们可以用PHP函数mb\_substr去解决。 所以在Wordpress中可以打开主题中的funtions.php，加入下面的代码：

<table style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: 1140px; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; border-collapse: collapse; position: static !important; table-layout: auto !important; direction: ltr !important; box-sizing: content-box !important; border-spacing: 0px; font-stretch: inherit; box-shadow: none !important;" border="0" cellspacing="0" cellpadding="0"><tbody style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><tr style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><td class="code" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: 1140px; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><div class="container" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; position: relative !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><div class="line number4 index0 alt1" style="background: #1b2426 !important; margin: 0px !important; padding: 0px 1em 0px 0em !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; white-space: pre !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><code class="php keyword" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #5ba1cf !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">function</code> <code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">chinese_excerpt(</code><code class="php variable" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #ffaa3e !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">$text</code><code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">, </code><code class="php variable" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #ffaa3e !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">$lenth</code><code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">=100) {</code></div><div class="line number5 index1 alt2" style="background: #1b2426 !important; margin: 0px !important; padding: 0px 1em 0px 0em !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; white-space: pre !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><code class="php spaces" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #ffaa3e !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">$text</code> <code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">= mb_substr(</code><code class="php variable" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #ffaa3e !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">$text</code><code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">,0, </code><code class="php variable" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #ffaa3e !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">$lenth</code><code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">);</code></div><div class="line number6 index2 alt1" style="background: #1b2426 !important; margin: 0px !important; padding: 0px 1em 0px 0em !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; white-space: pre !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><code class="php spaces" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #5ba1cf !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">return</code> <code class="php variable" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #ffaa3e !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">$text</code><code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">;</code></div><div class="line number7 index3 alt2" style="background: #1b2426 !important; margin: 0px !important; padding: 0px 1em 0px 0em !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; white-space: pre !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">}</code></div><div class="line number8 index4 alt1" style="background: #1b2426 !important; margin: 0px !important; padding: 0px 1em 0px 0em !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; white-space: pre !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">add_filter(</code><code class="php string" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #5ce638 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">'the_excerpt'</code><code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">, </code><code class="php string" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #5ce638 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">' chinese_excerpt '</code><code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">);</code></div></div></td></tr></tbody></table>

我这里设置默认的截取长度是100个字符，50个汉字。可以在上面的代码中的$lenth=100设定为任意的截取长度。

或者直接使用中文截取法，加入如下代码

<table style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: 1140px; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; border-collapse: collapse; position: static !important; table-layout: auto !important; direction: ltr !important; box-sizing: content-box !important; border-spacing: 0px; font-stretch: inherit; box-shadow: none !important;" border="0" cellspacing="0" cellpadding="0"><tbody style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><tr style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><td class="code" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: 1140px; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><div class="container" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; position: relative !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><div class="line number4 index0 alt1" style="background: #1b2426 !important; margin: 0px !important; padding: 0px 1em 0px 0em !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; white-space: pre !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><code class="php keyword" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #5ba1cf !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">function</code> <code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">custom_excerpt_length( </code><code class="php variable" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #ffaa3e !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">$length</code> <code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">) {</code></div><div class="line number5 index1 alt2" style="background: #1b2426 !important; margin: 0px !important; padding: 0px 1em 0px 0em !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; white-space: pre !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><code class="php spaces" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #5ba1cf !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">return</code> <code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">200;</code></div><div class="line number6 index2 alt1" style="background: #1b2426 !important; margin: 0px !important; padding: 0px 1em 0px 0em !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; white-space: pre !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">}</code></div><div class="line number7 index3 alt2" style="background: #1b2426 !important; margin: 0px !important; padding: 0px 1em 0px 0em !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; white-space: pre !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">add_filter( </code><code class="php string" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #5ce638 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">'excerpt_length'</code><code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">, </code><code class="php string" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #5ce638 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">'custom_excerpt_length'</code><code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">, 999 );</code></div><div class="line number8 index4 alt1" style="background: #1b2426 !important; margin: 0px !important; padding: 0px 1em 0px 0em !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; white-space: pre !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;"><code class="php plain" style="background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; text-align: left !important; right: auto !important; bottom: auto !important; color: #b9bdb6 !important; line-height: 1.1em !important; overflow: visible !important; font-family: Monaco, Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; font-style: normal !important; font-variant: inherit; font-weight: normal !important; vertical-align: baseline !important; float: none !important; display: inline !important; position: static !important; direction: ltr !important; box-sizing: content-box !important; font-stretch: inherit; box-shadow: none !important;">200为字数，可以修改为自己的值。</code></div></div></td></tr></tbody></table>

## 需要安装服务器打开php mb\_string扩展。

1、安装php-mbstrin扩展，终端执行。

sudo yum install php-mbstring。

2、切换root用户。

sudo -s

3、修改php.ini，终端执行。

echo 'extension=mbstring.so' >>/etc/php.ini 

4、重启web服务器。 apache:

sudo service httpd restart

nginx:

sudo service nginx reload
